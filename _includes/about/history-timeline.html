<!-- Timeline History Section -->
<section class="py-8 md:py-16" style="background-color: #E7EAF3;">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-8 md:mb-12">Mageplaza History</h2>
    
    <!-- Timeline Navigation Tabs -->
    <div class="max-w-4xl mx-auto mb-8 md:mb-16">
      <div class="flex justify-center space-x-12 md:space-x-32 mb-4">
        <button class="text-lg md:text-xl text-gray-600 py-2 focus:outline-none timeline-tab" data-period="2018-now">
          2018 - now
        </button>
        <button class="text-lg md:text-xl text-gray-600 py-2 focus:outline-none timeline-tab active" data-period="2014-2017">
          2014 - 2017
        </button>
      </div>
      <div class="h-0.5 bg-gray-300 relative">
        <div class="absolute h-0.5 bg-indigo-700 transition-all duration-300 tab-indicator" style="width: 50%; left: 50%;"></div>
      </div>
    </div>

    <!-- Timeline Content -->
    <div class="timeline-content max-w-5xl mx-auto relative">
      <!-- 2018-now Period -->
      <div class="timeline-period hidden" id="period-2018-now">
        <h3 class="text-xl md:text-2xl font-bold text-center mb-3 md:mb-4">Leading Magento 2 solution provider</h3>
        <p class="text-base md:text-lg text-gray-600 text-center mb-8 md:mb-12">Mageplaza has been recognized globally as the most popular extension builder since 2018.</p>
        
        <!-- Timeline Slider -->
        <div class="mx-auto p-2 pt-5 md:pt-7 pb-8 md:pb-12 relative rounded-lg" style="background-color: #02007F;">
          <!-- Background Image with Overlay -->
          <div class="absolute inset-0 rounded-lg opacity-30">
            <img class="w-full h-full object-cover" 
                 src="https://cdn2.mageplaza.com/media/about-us/mageplaza.webp" 
                 alt="About Us">
          </div>
          
          <!-- Slider Content -->
          <div class="relative z-10 max-w-6xl mx-auto">
            <div class="slider-wrapper">
              <!-- Slide 1: 2023-2021 -->
              <div class="timeline-slide active">
                <!-- Timeline Points -->
                <div class="relative mb-6 md:mb-10 px-4">
                  <div class="absolute top-1/2 left-0 right-0 h-px bg-white transform -translate-y-1/2"></div>
                  <div class="flex justify-between relative">
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2023</div>
                    </div>
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2022</div>
                    </div>
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2021</div>
                    </div>
                  </div>
                </div>
                
                <!-- Timeline Content -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 px-4">
                  <div class="text-white">
                    <p class="text-base md:text-lg">Became Adobe Silver Technology Partner & made 22+ extensions compatible with Hyva theme.</p>
                  </div>
                  <div class="text-white">
                    <p class="text-base md:text-lg">Rebranded with a new logo & released the subscription policy.</p>
                  </div>
                  <div class="text-white">
                    <p class="text-base md:text-lg">Released 5 new extensions & expanded the catalog to 234 extensions.</p>
                  </div>
                </div>
              </div>
              
              <!-- Slide 2: 2020-2018 (Hidden initially) -->
              <div class="timeline-slide hidden">
                <!-- Timeline Points -->
                <div class="relative mb-6 md:mb-10 px-4">
                  <div class="absolute top-1/2 left-0 right-0 h-px bg-white transform -translate-y-1/2"></div>
                  <div class="flex justify-between relative">
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2020</div>
                    </div>
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2019</div>
                    </div>
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2018</div>
                    </div>
                  </div>
                </div>
                
                <!-- Timeline Content -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 px-4">
                  <div class="text-white">
                    <p class="text-base md:text-lg">Reached 100,000+ customers worldwide & expanded team to 50+ members.</p>
                  </div>
                  <div class="text-white">
                    <p class="text-base md:text-lg">Launched premium support service & improved extension compatibility.</p>
                  </div>
                  <div class="text-white">
                    <p class="text-base md:text-lg">Released 20+ new extensions & became Magento Business Solution Partner.</p>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Navigation Arrows -->
            <button class="absolute left-1 md:left-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center shadow-md timeline-prev-2018 z-20 opacity-50" disabled>
              <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
              </svg>
            </button>
            <button class="absolute right-1 md:right-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center shadow-md timeline-next-2018 z-20">
              <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </button>
          </div>
          
          <!-- Timeline Dots -->
          <div class="flex justify-center mt-6 md:mt-8 space-x-2">
            <button class="w-2 h-2 md:w-3 md:h-3 rounded-full bg-white timeline-dot-2018 active"></button>
            <button class="w-2 h-2 md:w-3 md:h-3 rounded-full bg-white opacity-50 timeline-dot-2018"></button>
          </div>
        </div>
      </div>
      
      <!-- 2014-2017 Period -->
      <div class="timeline-period active" id="period-2014-2017">
        <h3 class="text-xl md:text-2xl font-bold text-center mb-3 md:mb-4">A fast-growing extension builder for Magento 2</h3>
        <p class="text-base md:text-lg text-gray-600 text-center mb-8 md:mb-12">After the initial success in Magento 2 extensions, Mageplaza consistently experienced annual double growth.</p>
        
        <!-- Timeline Slider -->
        <div class="mx-auto p-2 pt-5 md:pt-7 pb-8 md:pb-12 relative rounded-lg" style="background-color: #02007F;">
          <!-- Background Image with Overlay -->
          <div class="absolute inset-0 rounded-lg opacity-30">
            <img class="w-full h-full object-cover" 
                 src="https://cdn2.mageplaza.com/media/about-us/mageplaza.webp" 
                 alt="About Us">
          </div>
          
          <!-- Slider Content -->
          <div class="relative z-10 max-w-6xl mx-auto">
            <div class="slider-wrapper">
              <!-- First Slide: 2016-2014 -->
              <div class="timeline-slide active">
                <!-- Timeline Points -->
                <div class="relative mb-6 md:mb-10 px-4">
                  <div class="absolute top-1/2 left-0 right-0 h-px bg-white transform -translate-y-1/2"></div>
                  <div class="flex justify-between relative">
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2016</div>
                    </div>
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2015</div>
                    </div>
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2014</div>
                    </div>
                  </div>
                </div>
                
                <!-- Timeline Content -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 px-4">
                  <div class="text-white">
                    <ul class="list-disc pl-5 space-y-2">
                      <li class="text-base md:text-lg">Switched main focus to Magento 2 solutions.</li>
                      <li class="text-base md:text-lg">Released 
                        <a href="#" class="text-blue-300 hover:underline">Social Login</a>, 
                        <a href="#" class="text-blue-300 hover:underline">One Step Checkout</a> & 
                        <a href="#" class="text-blue-300 hover:underline">Layered Navigation</a>.
                      </li>
                    </ul>
                  </div>
                  <div class="text-white">
                    <p class="text-base md:text-lg">Expanded Mageplaza with 10 members.</p>
                  </div>
                  <div class="text-white">
                    <p class="text-base md:text-lg">Mageplaza was founded by two members, Sam and Brian.</p>
                  </div>
                </div>
              </div>

              <!-- Second Slide: 2017 -->
              <div class="timeline-slide hidden">
                <!-- Timeline Points -->
                <div class="relative mb-6 md:mb-10 px-4">
                  <div class="absolute top-1/2 left-0 right-0 h-px bg-white transform -translate-y-1/2"></div>
                  <div class="flex justify-between relative">
                    <div class="text-center">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">2017</div>
                    </div>
                    <div class="text-center opacity-0">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">-</div>
                    </div>
                    <div class="text-center opacity-0">
                      <div class="w-4 h-4 md:w-6 md:h-6 rounded-full bg-white inline-block"></div>
                      <div class="text-base md:text-xl font-semibold text-white mt-2">-</div>
                    </div>
                  </div>
                </div>
                
                <!-- Timeline Content -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 px-4">
                  <div class="text-white">
                    <p class="text-base md:text-lg">Released 15 news extensions & hit 60k visitor traffic in a month.</p>
                  </div>
                  <div class="text-white opacity-0">
                    <p class="text-base md:text-lg">-</p>
                  </div>
                  <div class="text-white opacity-0">
                    <p class="text-base md:text-lg">-</p>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Navigation Arrows -->
            <button class="absolute left-1 md:left-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center shadow-md timeline-prev z-20 opacity-50" disabled>
              <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
              </svg>
            </button>
            <button class="absolute right-1 md:right-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full w-8 h-8 md:w-10 md:h-10 flex items-center justify-center shadow-md timeline-next z-20">
              <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </button>
          </div>
          
          <!-- Timeline Dots -->
          <div class="flex justify-center mt-6 md:mt-8 space-x-2">
            <button class="w-2 h-2 md:w-3 md:h-3 rounded-full bg-white timeline-dot active"></button>
            <button class="w-2 h-2 md:w-3 md:h-3 rounded-full bg-white opacity-50 timeline-dot"></button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- JavaScript for Timeline Functionality -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Tab switching
      const tabs = document.querySelectorAll('.timeline-tab');
      const indicator = document.querySelector('.tab-indicator');
      const periods = document.querySelectorAll('.timeline-period');
      
      // Determine initial tab indicator position based on window width
      function updateIndicatorPosition() {
        const activeTab = document.querySelector('.timeline-tab.active');
        const tabIndex = Array.from(tabs).indexOf(activeTab);
        if (window.innerWidth < 768) {
          indicator.style.width = '50%';
          indicator.style.left = tabIndex === 0 ? '0' : '50%';
        } else {
          indicator.style.width = '50%';
          indicator.style.left = tabIndex === 0 ? '0' : '50%';
        }
      }
      
      // Initial position
      updateIndicatorPosition();
      
      // Update on resize
      window.addEventListener('resize', updateIndicatorPosition);
      
      tabs.forEach((tab, index) => {
        tab.addEventListener('click', () => {
          // Update tabs
          tabs.forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          
          // Move indicator
          indicator.style.left = index === 0 ? '0' : '50%';
          
          // Show corresponding period
          periods.forEach(period => period.classList.add('hidden'));
          document.getElementById(`period-${tab.dataset.period}`).classList.remove('hidden');
        });
      });
      
      // 2018-now Timeline Slider
      const slides2018 = document.querySelectorAll('#period-2018-now .timeline-slide');
      const dots2018 = document.querySelectorAll('.timeline-dot-2018');
      const prev2018 = document.querySelector('.timeline-prev-2018');
      const next2018 = document.querySelector('.timeline-next-2018');
      let currentSlide2018 = 0;
      
      function showSlide2018(index) {
        slides2018.forEach(slide => slide.classList.add('hidden'));
        slides2018[index].classList.remove('hidden');
        slides2018[index].classList.add('active');
        
        // Update dots
        dots2018.forEach((dot, i) => {
          dot.classList.toggle('active', i === index);
          dot.classList.toggle('opacity-50', i !== index);
        });
        
        // Update buttons
        prev2018.disabled = index === 0;
        prev2018.classList.toggle('opacity-50', index === 0);
        next2018.disabled = index === slides2018.length - 1;
        next2018.classList.toggle('opacity-50', index === slides2018.length - 1);
      }
      
      prev2018.addEventListener('click', () => {
        if (currentSlide2018 > 0) {
          currentSlide2018--;
          showSlide2018(currentSlide2018);
        }
      });
      
      next2018.addEventListener('click', () => {
        if (currentSlide2018 < slides2018.length - 1) {
          currentSlide2018++;
          showSlide2018(currentSlide2018);
        }
      });
      
      dots2018.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          currentSlide2018 = index;
          showSlide2018(currentSlide2018);
        });
      });
      
      // Touch swipe support for mobile
      let touchStartX = 0;
      let touchEndX = 0;
      
      function handleSwipe(element, prevFunction, nextFunction) {
        element.addEventListener('touchstart', (e) => {
          touchStartX = e.changedTouches[0].screenX;
        }, {passive: true});
        
        element.addEventListener('touchend', (e) => {
          touchEndX = e.changedTouches[0].screenX;
          handleSwipeGesture(prevFunction, nextFunction);
        }, {passive: true});
      }
      
      function handleSwipeGesture(prevFunction, nextFunction) {
        if (touchEndX < touchStartX - 50) { // Swipe left
          nextFunction();
        }
        if (touchEndX > touchStartX + 50) { // Swipe right
          prevFunction();
        }
      }
      
      // Add swipe for 2018-now period
      handleSwipe(
        document.querySelector('#period-2018-now .slider-wrapper'),
        () => {
          if (currentSlide2018 > 0) {
            currentSlide2018--;
            showSlide2018(currentSlide2018);
          }
        },
        () => {
          if (currentSlide2018 < slides2018.length - 1) {
            currentSlide2018++;
            showSlide2018(currentSlide2018);
          }
        }
      );
      
      // Add swipe for 2014-2017 period
      handleSwipe(
        document.querySelector('#period-2014-2017 .slider-wrapper'),
        () => {
          if (currentSlide > 0) {
            currentSlide--;
            showSlide(currentSlide);
          }
        },
        () => {
          if (currentSlide < slides.length - 1) {
            currentSlide++;
            showSlide(currentSlide);
          }
        }
      );
      
      // Initialize slides
      showSlide2018(0);
      showSlide(0);
    });
  </script>
</section>